<!DOCTYPE html>
<html>
<head>
  <title>Getting to grips with RSelenium</title>
  <meta charset="utf-8">
  <meta name="description" content="Getting to grips with RSelenium">
  <meta name="author" content="Hanjo Odendaal">
  <meta name="generator" content="slidify" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <link rel="stylesheet" href="libraries/frameworks/io2012/css/default.css" media="all" >
  <link rel="stylesheet" href="libraries/frameworks/io2012/css/phone.css" 
    media="only screen and (max-device-width: 480px)" >
  <link rel="stylesheet" href="libraries/frameworks/io2012/css/slidify.css" >
  <link rel="stylesheet" href="libraries/highlighters/highlight.js/css/tomorrow.css" />
  <base target="_blank"> <!-- This amazingness opens all links in a new tab. -->  <link rel=stylesheet href="libraries/widgets/quiz/css/demo.css"></link>
<link rel=stylesheet href="libraries/widgets/bootstrap/css/bootstrap.css"></link>
<link rel=stylesheet href="libraries/widgets/interactive/css/aceeditor.css"></link>
<link rel=stylesheet href="libraries/widgets/nvd3/css/nv.d3.css"></link>
<link rel=stylesheet href="libraries/widgets/nvd3/css/rNVD3.css"></link>
<link rel=stylesheet href="libraries/widgets/leaflet/external/leaflet.css"></link>
<link rel=stylesheet href="libraries/widgets/leaflet/external/leaflet-rCharts.css"></link>
<link rel=stylesheet href="libraries/widgets/leaflet/external/legend.css"></link>
<link rel=stylesheet href="./assets/css/ribbons.css"></link>
<link rel=stylesheet href="./assets/css/style.css"></link>
<link rel=stylesheet href="./assets/css/title_slide_bg_ex.css"></link>

  
  <!-- Grab CDN jQuery, fall back to local if offline -->
  <script src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.7.min.js"></script>
  <script>window.jQuery || document.write('<script src="libraries/widgets/quiz/js/jquery.js"><\/script>')</script> 
  <script data-main="libraries/frameworks/io2012/js/slides" 
    src="libraries/frameworks/io2012/js/require-1.0.8.min.js">
  </script>
  
  <script src="libraries/widgets/nvd3/js/jquery-1.8.2.min.js"></script>
<script src="libraries/widgets/nvd3/js/d3.v3.min.js"></script>
<script src="libraries/widgets/nvd3/js/nv.d3.min-new.js"></script>
<script src="libraries/widgets/nvd3/js/fisheye.js"></script>
<script src="libraries/widgets/leaflet/external/leaflet.js"></script>
<script src="libraries/widgets/leaflet/external/leaflet-providers.js"></script>
<script src="libraries/widgets/leaflet/external/Control.FullScreen.js"></script>


</head>
<body style="opacity: 0">
  <slides class="layout-widescreen">
    
    <!-- LOGO SLIDE -->
      <slide class="nobackground">
    <article class="flexbox vcenter">
      <span>
        <img width='300px' src="assets/img/logo.png">
      </span>
    </article>
  </slide>
    <slide class="title-slide segue nobackground">
  <aside class="gdbar">
    <img src="assets/img/logo.png">
  </aside>
  <hgroup class="auto-fadein">
    <h1>Getting to grips with RSelenium</h1>
    <h2>Don't hate the player, hate the game</h2>
    <p>Hanjo Odendaal<br/></p>
  </hgroup>
  <article></article>  
</slide>
    

    <!-- SLIDES -->
    <slide class="" id="slide-1" style="background:; background-size:;">
  <hgroup>
    
  </hgroup>
  <article>
    <style type="text/css">
body {background:grey transparent;
}
</style>

<style>
div.footnotes_link {
  position: absolute;
  bottom: 0;
  margin-bottom: 10px;
  width: 80%;
  font-size: 0.6em;
}
</style>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>

<script>
$(document).ready(function() {
  $('slide:not(.backdrop):not(.title-slide)').append('<div class=\"footnotes_link\">');

  $('footnote').each(function(index) {
    var text  = $(this).html();
    var fnNum = (index+1).toString();
    $(this).html(fnNum.sup());

    var footnote   = fnNum + '. ' + text + '<br/>';
    var oldContent = $(this).parents('slide').children('div.footnotes_link').html();
    var newContent = oldContent + footnote;
    $(this).parents('slide').children('div.footnotes_link').html(newContent);
  });
});
</script>
  
    <footer class = 'logo'>
    	<div style="position: absolute; left: 1000px; top: 50px; z-index:100">
   			 <img src = "assets/img/logo.png" height="60" width="60">
		</div>
    </footer>
  </article>
</slide>
<slide class="class" id="id" style="background:; background-size:;">
  <hgroup>
    <h2>Why we use RSelenium</h2>
  </hgroup>
  <article>
    <p>RSelenium allows you to carry out unit testing and regression testing on your webapps and webpages across a range of browser/OS combinations</p>

<ul class = "build incremental">
<li>Selenium makes our task easy as it can scrape complicated webpages with dynamic content</li>
<li>&quot;Human-like&quot; behaviour such as clicking and scrolling</li>
<li>FINALLY a stable server instance through docker!</li>
<li>They joy when you finally get it working!</li>
</ul>
  
    <footer class = 'logo'>
    	<div style="position: absolute; left: 1000px; top: 50px; z-index:100">
   			 <img src = "assets/img/logo.png" height="60" width="60">
		</div>
    </footer>
  </article>
</slide>
<slide class="class" id="id" style="background:; background-size:;">
  <hgroup>
    <h2>Getting the old boy started</h2>
  </hgroup>
  <article>
    <p>CRAN recently removed <code>RSelenium</code> from the repo, thus it is even more difficult to get the your <code>Selenium</code> instance up and running in <code>R</code></p>

<p><img src="assets/img/issue.png" title="plot of chunk unnamed-chunk-2" alt="plot of chunk unnamed-chunk-2" style="display: block; margin: auto;" /></p>
  
    <footer class = 'logo'>
    	<div style="position: absolute; left: 1000px; top: 50px; z-index:100">
   			 <img src = "assets/img/logo.png" height="60" width="60">
		</div>
    </footer>
  </article>
</slide>
<slide class="class" id="id" style="background:; background-size:;">
  <hgroup>
    <h2>Getting the old boy started</h2>
  </hgroup>
  <article>
    <p>We will be using <code>devtools</code> to install the necessary dependencies from <code>github</code><footnote>Microsoft Trademark ;-)</footnote></p>

<pre><code class="r">devtools::install_github(&quot;johndharrison/binman&quot;)
devtools::install_github(&quot;johndharrison/wdman&quot;)
devtools::install_github(&quot;ropensci/RSelenium&quot;)
</code></pre>

<p>Once you have installed all the packages, remember to load <code>RSelenium</code> into your workspace</p>

<pre><code class="r">library(RSelenium)
library(rvest)
library(tidyverse)
</code></pre>
  
    <footer class = 'logo'>
    	<div style="position: absolute; left: 1000px; top: 50px; z-index:100">
   			 <img src = "assets/img/logo.png" height="60" width="60">
		</div>
    </footer>
  </article>
</slide>
<slide class="class" id="id" style="background:; background-size:;">
  <hgroup>
    <h2>Turning the iginition (docker style)</h2>
  </hgroup>
  <article>
    <p>RSelenium is notorius for instability and compatibility issues. It is thus amazing that they now have a docker image for headless webdrivers. Running a docker container standardises the build across OSâ€™s and removes many of the issues user may have relating to JAVA/browser version/selenium version</p>

<ul class = "build incremental">
<li>Offers improved stability</li>
<li>Greater ease in setting up the Selenium server</li>
<li>Quick up and down </li>
</ul>
  
    <footer class = 'logo'>
    	<div style="position: absolute; left: 1000px; top: 50px; z-index:100">
   			 <img src = "assets/img/logo.png" height="60" width="60">
		</div>
    </footer>
  </article>
</slide>
<slide class="segue" id="slide-6" style="background:; background-size:;">
  <hgroup>
    <h2>Get your environment setup</h2>
  </hgroup>
  <article>
    
  </article>
</slide>
<slide class="segue" id="slide-7" style="background:; background-size:;">
  <hgroup>
    
  </hgroup>
  <article>
    
 
 <div id="slide-7-carousel" class="carousel slide " data-interval="0">
   <!-- Indicators -->
   <ol class="carousel-indicators">
     <li data-target="#slide-7-carousel" data-slide-to="1" class=""></li>
     <li data-target="#slide-7-carousel" data-slide-to="2" class=""></li>
     <li data-target="#slide-7-carousel" data-slide-to="3" class=""></li>
     <li data-target="#slide-7-carousel" data-slide-to="4" class=""></li>
   </ol>
   <!-- Wrapper for slides -->
   <div class="carousel-inner">
     <div class="item ">
       <img src="assets/img/docker/windowsToolbox.png" alt="" style="margin: auto; max-height: 500px; min-height: 500px;">
     </div>
     <div class="item ">
       <img src="assets/img/docker/ubuntuHelloWorld.png" alt="" style="margin: auto; max-height: 500px; min-height: 500px;">
     </div>
     <div class="item ">
       <img src="assets/img/docker/SeleniumDockerHub.png" alt="" style="margin: auto; max-height: 500px; min-height: 500px;">
     </div>
     <div class="item ">
       <img src="assets/img/docker/SeleniumDockerChrome.png" alt="" style="margin: auto; max-height: 500px; min-height: 500px;">
     </div>
   </div>
   <!-- Controls -->
   <a class="left carousel-control" href="#slide-7-carousel" data-slide="prev">&lsaquo;</a>
   <a class="right carousel-control" href="#slide-7-carousel" data-slide="next">&rsaquo;</a>
 </div>
  </article>
</slide>
<slide class="class" id="id" style="background:; background-size:;">
  <hgroup>
    <h2>Turning the iginition (docker style)</h2>
  </hgroup>
  <article>
    <p>If you don&#39;t want docker to run as <code>root</code> (you dont), then once docker has been installed, create a group and add the docker user to it:</p>

<pre><code class="bash">sudo groupadd docker
sudo usermod -aG docker $USER
</code></pre>
  
    <footer class = 'logo'>
    	<div style="position: absolute; left: 1000px; top: 50px; z-index:100">
   			 <img src = "assets/img/logo.png" height="60" width="60">
		</div>
    </footer>
  </article>
</slide>
<slide class="class" id="id" style="background:; background-size:;">
  <hgroup>
    <h2>Turning the iginition (docker style)</h2>
  </hgroup>
  <article>
    <p>Pulling an image</p>

<pre><code class="bash">sudo docker pull selenium/standalone-chrome-debug
</code></pre>

<p>Starting your Selenium Server in debug</p>

<pre><code class="bash">docker run --name chrome  
    -v /dev/shm:/dev/shm -d -p 4445:4444 -p 5901:5900 selenium/standalone-chrome-debug:latest
sudo docker ps
</code></pre>

<ul>
<li><code>-name</code> name your container, otherwise docker will ;-)</li>
<li><code>-v</code> mount volume</li>
<li><code>-d</code> detached mode</li>
<li><code>-p</code> port mapping (external:internal)</li>
<li>if on external server: <code>127.0.0.1:port:port</code></li>
</ul>
  
    <footer class = 'logo'>
    	<div style="position: absolute; left: 1000px; top: 50px; z-index:100">
   			 <img src = "assets/img/logo.png" height="60" width="60">
		</div>
    </footer>
  </article>
</slide>
<slide class="" id="slide-10" style="background:; background-size:;">
  <hgroup>
    <h2>Attach your viewport (TightVNC &amp; Vinagre)</h2>
  </hgroup>
  <article>
    <p>We can use Virtual Network Computing (VNC) viewers to view what is happening</p>

<div style='float:left;width:48%;' class='centered'>
  <p><img src="assets/img/docker/TightVNC.png" title="plot of chunk unnamed-chunk-8" alt="plot of chunk unnamed-chunk-8" style="display: block; margin: auto;" /></p>

</div>
<div style='float:right;width:48%;'>
  <p><img src="assets/img/docker/VinagreVNC.png" title="plot of chunk unnamed-chunk-9" alt="plot of chunk unnamed-chunk-9" style="display: block; margin: auto;" /></p>

</div>  
    <footer class = 'logo'>
    	<div style="position: absolute; left: 1000px; top: 50px; z-index:100">
   			 <img src = "assets/img/logo.png" height="60" width="60">
		</div>
    </footer>
  </article>
</slide>
<slide class="segue" id="slide-11" style="background:url(https://media.giphy.com/media/o6p5ZioiD5x60/giphy.gif);background-size:cover; background-size:;">
  <hgroup>
    
  </hgroup>
  <article>
    
  </article>
</slide>
<slide class="class" id="id" style="background:; background-size:;">
  <hgroup>
    <h2>Finally - RSelenium is operational</h2>
  </hgroup>
  <article>
    <p>Now that the most difficult bit related to getting <code>Selenium</code> running is done, lets get to the fun bits:</p>

<ul>
<li>Quick overview of the tools you will be using</li>
<li>Useful functions written in javascript that I find useful</li>
<li>Obsure and fun functions</li>
<li>Combine it all into a case study</li>
</ul>
  
    <footer class = 'logo'>
    	<div style="position: absolute; left: 1000px; top: 50px; z-index:100">
   			 <img src = "assets/img/logo.png" height="60" width="60">
		</div>
    </footer>
  </article>
</slide>
<slide class="class" id="id" style="background:; background-size:;">
  <hgroup>
    <h2>Open and navigate</h2>
  </hgroup>
  <article>
    <pre><code class="r">library(RSelenium)
remDr &lt;- remoteDriver(remoteServerAddr = &quot;192.168.99.100&quot;,
                      port = 4445L, 
                      browser = &quot;chrome&quot;)

remDr$open()
remDr$navigate(&quot;http://www.google.com&quot;)
remDr$navigate(&quot;http://www.bing.com&quot;)
remDr$goBack()
remDr$goForward()
</code></pre>
  
    <footer class = 'logo'>
    	<div style="position: absolute; left: 1000px; top: 50px; z-index:100">
   			 <img src = "assets/img/logo.png" height="60" width="60">
		</div>
    </footer>
  </article>
</slide>
<slide class="class" id="id" style="background:; background-size:;">
  <hgroup>
    <h2>Using keys and Scrolling</h2>
  </hgroup>
  <article>
    <pre><code class="r">RSelenium:::selKeys %&gt;% names() %&gt;% head
remDr$sendKeysToActiveElement(list(key = &quot;page_down&quot;))
remDr$sendKeysToActiveElement(list(key = &quot;page_up&quot;))

remDr$executeScript(&quot;return window.scrollY&quot;, args = list(1))
remDr$executeScript(&quot;return document.body.scrollHeight&quot;, args = list(1))

remDr$executeScript(&quot;return window.innerHeight&quot;, args = list(1))
remDr$executeScript(&quot;return window.innerWidth&quot;, args = list(1))

remDr$sendKeysToActiveElement(list(key = &quot;home&quot;))
remDr$sendKeysToActiveElement(list(key = &quot;end&quot;))
</code></pre>
  
    <footer class = 'logo'>
    	<div style="position: absolute; left: 1000px; top: 50px; z-index:100">
   			 <img src = "assets/img/logo.png" height="60" width="60">
		</div>
    </footer>
  </article>
</slide>
<slide class="class" id="id" style="background:; background-size:;">
  <hgroup>
    <h2>Interacting with the DOM</h2>
  </hgroup>
  <article>
    <p>The DOM stands for the Document Object Model. It is a cross-platform and language-independent convention for representing and interacting with objects in HTML, XHTML and XML documents. To get the whole DOM:</p>

<pre><code class="r">remDr$getPageSource() %&gt;% .[[1]] %&gt;% read_html()
</code></pre>

<p>To interact with the DOM, we will use the <code>findElement</code> method:</p>

<ul>
<li>Search by id, class, selector, xpath</li>
</ul>

<pre><code class="r">remDr$navigate(&quot;http://www.google.com/&quot;)
webElem &lt;- remDr$findElement(using = &#39;class&#39;, &quot;gsfi&quot;)
webElem$highlightElement()
</code></pre>
  
    <footer class = 'logo'>
    	<div style="position: absolute; left: 1000px; top: 50px; z-index:100">
   			 <img src = "assets/img/logo.png" height="60" width="60">
		</div>
    </footer>
  </article>
</slide>
<slide class="class" id="id" style="background:; background-size:;">
  <hgroup>
    <h2>Interacting with the DOM</h2>
  </hgroup>
  <article>
    <p>Having identified the element we want to interact with, we have a couple of methods that we can apply to the object:</p>

<pre><code class="r">webElem$click()
webElem$click(2)

# Cannot interact with objects not on screen
remDr$mouseMoveToLocation(webElement = webElem)
remDr$executeScript(&quot;arguments[0].scrollIntoView(true);&quot;, args = list(webElem))

webElem$sendKeysToActiveElement(list(key = &#39;down_arrow&#39;, key = &#39;down_arrow&#39;, key = &#39;enter&#39;))
webElem$sendKeysToActiveElement(list(&quot;Hallo World&quot;, key = &#39;enter&#39;))
</code></pre>
  
    <footer class = 'logo'>
    	<div style="position: absolute; left: 1000px; top: 50px; z-index:100">
   			 <img src = "assets/img/logo.png" height="60" width="60">
		</div>
    </footer>
  </article>
</slide>
<slide class="class" id="id" style="background:; background-size:;">
  <hgroup>
    <h2>Nice to have functions</h2>
  </hgroup>
  <article>
    <pre><code class="r">remDr$maxWindowSize()
remDr$getTitle()
remDr$screenshot(display = TRUE)

b64out&lt;- remDr$screenshot()
writeBin(RCurl::base64Decode(b64out, &quot;raw&quot;), &#39;screenshot.png&#39;)

# Scroll into view
remDr$executeScript(&quot;arguments[0].scrollIntoView(true);&quot;, args = list(webElem))
</code></pre>
  
    <footer class = 'logo'>
    	<div style="position: absolute; left: 1000px; top: 50px; z-index:100">
   			 <img src = "assets/img/logo.png" height="60" width="60">
		</div>
    </footer>
  </article>
</slide>
<slide class="class" id="id" style="background:; background-size:;">
  <hgroup>
    <h2>Building a RSelenium pipe function</h2>
  </hgroup>
  <article>
    <p>RSelenium has 2 types of commands:</p>

<ul>
<li>Those with side-effects (action)</li>
<li>Those that returns information we want to push into <code>rvest</code></li>
</ul>

<pre><code class="r">navi &lt;- function(remDr, site = &quot;https://www.google.com&quot;){
  remDr$navigate(site)
}

remDr %&gt;% navi(., &quot;https://www.google.com&quot;)
</code></pre>
  
    <footer class = 'logo'>
    	<div style="position: absolute; left: 1000px; top: 50px; z-index:100">
   			 <img src = "assets/img/logo.png" height="60" width="60">
		</div>
    </footer>
  </article>
</slide>
<slide class="class" id="id" style="background:; background-size:;">
  <hgroup>
    <h2>Building a RSelenium pipe function</h2>
  </hgroup>
  <article>
    <p>RSelenium has 2 types of commands:</p>

<ul>
<li>Those with side-effects (action)</li>
<li>Those that returns information we want to push into <code>rvest</code></li>
</ul>

<pre><code class="r">take_pic &lt;- function(remDr){
  remDr$maxWindowSize()
  remDr$getTitle()
  remDr$screenshot(display = TRUE)
}

remDr %&gt;% take_pic(.)
</code></pre>
  
    <footer class = 'logo'>
    	<div style="position: absolute; left: 1000px; top: 50px; z-index:100">
   			 <img src = "assets/img/logo.png" height="60" width="60">
		</div>
    </footer>
  </article>
</slide>
<slide class="" id="slide-20">
<hgroup>
  
</hgroup>
<article class = 'flexbox vcenter'>
<p><img src="assets/img/overview.png" title="plot of chunk unnamed-chunk-18" alt="plot of chunk unnamed-chunk-18" style="display: block; margin: auto;" /></p>

</article>
<!-- Presenter Notes -->
</slide>
<slide class="segue" id="slide-21" style="background:url(https://media.giphy.com/media/vlz7bLooGfrc4/giphy.gif);background-size:cover; background-size:;">
  <hgroup>
    <h2>A Tour of the winelands!</h2>
  </hgroup>
  <article>
    
  </article>
</slide>
<slide class="class" id="id" style="background:; background-size:;">
  <hgroup>
    <h2>Extending your wine knowledge</h2>
  </hgroup>
  <article>
    <p>Australia is famous for its wines! Lets find out a little bit more about the wine region </p>

<ul class = "build incremental">
<li>Go to vivino.com</li>
<li>Collect 2 pages worth of information
&gt; - Name of wine farm, name of wine, star rating, count of ratings</li>
<li>Take 5 min to plan your collection (write steps on top of your script)</li>
</ul>
  
    <footer class = 'logo'>
    	<div style="position: absolute; left: 1000px; top: 50px; z-index:100">
   			 <img src = "assets/img/logo.png" height="60" width="60">
		</div>
    </footer>
  </article>
</slide>
<slide class="" id="slide-23">
<hgroup>
  
</hgroup>
<article class = 'flexbox vcenter'>
<p><img src="assets/img/thought.jpg" title="plot of chunk unnamed-chunk-19" alt="plot of chunk unnamed-chunk-19" style="display: block; margin: auto;" /></p>

</article>
<!-- Presenter Notes -->
</slide>
<slide class="class" id="id" style="background:; background-size:;">
  <hgroup>
    <h2>Display all the wine</h2>
  </hgroup>
  <article>
    <pre><code class="r"># Connect
library(RSelenium)
robotstxt::paths_allowed()
remDr &lt;- remoteDriver(remoteServerAddr = &quot;192.168.99.100&quot;,
                      port = 4445L, 
                      browser = &quot;chrome&quot;)
remDr$open()
remDr$navigate(&quot;https://www.vivino.com/explore&quot;)

# Find, highlight and click element to proceed to vivino explore wines
webElem &lt;- remDr$findElement(&quot;css&quot;, &#39;.explore-widget__main__submit__button&#39;)
webElem$highlightElement()
webElem$clickElement()

# Nice function that will move us to webelement
scrollTo &lt;- function(remDr, webElem){
  remDr$executeScript(&quot;arguments[0].scrollIntoView(true);&quot;, args = list(webElem))
  webElem$highlightElement()
}
</code></pre>
  
    <footer class = 'logo'>
    	<div style="position: absolute; left: 1000px; top: 50px; z-index:100">
   			 <img src = "assets/img/logo.png" height="60" width="60">
		</div>
    </footer>
  </article>
</slide>
<slide class="class" id="id" style="background:; background-size:;">
  <hgroup>
    <h2>Lets filter all wine from Australia</h2>
  </hgroup>
  <article>
    <pre><code class="r">webElem &lt;- remDr$findElements(&quot;xpath&quot;, &#39;//input[starts-with(@class, &quot;filterPills&quot;)]&#39;)

scrollTo(remDr, webElem[[2]])

webElem[[2]]$clickElement()
webElem[[2]]$sendKeysToActiveElement(list(&quot;Australia&quot;))

webElem &lt;- remDr$findElements(&quot;css&quot;, &#39;.pill__inner--7gfKn&#39;)

country_elem &lt;- webElem %&gt;% 
  sapply(., function(x) x$getElementText()) %&gt;% 
  reduce(c) %&gt;% 
  grepl(&quot;Australia&quot;, .) %&gt;% 
  which

scrollTo(remDr, webElem[[country_elem]])

webElem[[country_elem]]$clickElement()
</code></pre>
  
    <footer class = 'logo'>
    	<div style="position: absolute; left: 1000px; top: 50px; z-index:100">
   			 <img src = "assets/img/logo.png" height="60" width="60">
		</div>
    </footer>
  </article>
</slide>
<slide class="class" id="id" style="background:; background-size:;">
  <hgroup>
    <h2>Next we go to end and to &#39;load more&#39; wines</h2>
  </hgroup>
  <article>
    <pre><code class="r">remDr$executeScript(&quot;return window.scrollY&quot;, args = list(1))
remDr$executeScript(&quot;return document.body.scrollHeight&quot;, args = list(1))

remDr$sendKeysToActiveElement(list(key = &quot;end&quot;))
remDr$executeScript(&quot;return window.scrollY&quot;, args = list(1))
</code></pre>
  
    <footer class = 'logo'>
    	<div style="position: absolute; left: 1000px; top: 50px; z-index:100">
   			 <img src = "assets/img/logo.png" height="60" width="60">
		</div>
    </footer>
  </article>
</slide>
<slide class="class" id="id" style="background:; background-size:;">
  <hgroup>
    <h2>Now we done with RSelenium, on to rvest!</h2>
  </hgroup>
  <article>
    <pre><code class="r">pg &lt;- remDr$getPageSource() %&gt;% .[[1]] %&gt;% 
  read_html()

collect_info &lt;- function(pg){
  farm &lt;- pg %&gt;% html_nodes(&quot;.vintageTitle__winery--2YoIr&quot;) %&gt;% 
    html_text()

  wine &lt;- pg %&gt;% html_nodes(&quot;.vintageTitle__wine--U7t9G&quot;) %&gt;% 
    html_text()

  rating &lt;- pg %&gt;% html_nodes(&quot;span.vivinoRating__rating--4Oti3&quot;) %&gt;% 
    html_text() %&gt;% 
    as.numeric

  rating_count &lt;- pg %&gt;% html_nodes(&quot;span.vivinoRating__ratingCount--NmiVg&quot;) %&gt;% 
    html_text() %&gt;% 
    gsub(&quot;[^0-9]&quot;, &quot;&quot;,.) %&gt;% 
    as.numeric

  data.frame(farm, wine, rating, rating_count)
}

collect_info(pg)
</code></pre>
  
    <footer class = 'logo'>
    	<div style="position: absolute; left: 1000px; top: 50px; z-index:100">
   			 <img src = "assets/img/logo.png" height="60" width="60">
		</div>
    </footer>
  </article>
</slide>
    <slide class="backdrop"></slide>
  </slides>
  <div class="pagination pagination-small" id='io2012-ptoc' style="display:none;">
    <ul>
      <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=1 title='NA'>
         1
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=2 title='Why we use RSelenium'>
         2
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=3 title='Getting the old boy started'>
         3
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=4 title='Getting the old boy started'>
         4
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=5 title='Turning the iginition (docker style)'>
         5
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=6 title='Get your environment setup'>
         6
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=7 title='NA'>
         7
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=8 title='Turning the iginition (docker style)'>
         8
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=9 title='Turning the iginition (docker style)'>
         9
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=10 title='Attach your viewport (TightVNC &amp; Vinagre)'>
         10
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=11 title='NA'>
         11
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=12 title='Finally - RSelenium is operational'>
         12
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=13 title='Open and navigate'>
         13
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=14 title='Using keys and Scrolling'>
         14
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=15 title='Interacting with the DOM'>
         15
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=16 title='Interacting with the DOM'>
         16
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=17 title='Nice to have functions'>
         17
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=18 title='Building a RSelenium pipe function'>
         18
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=19 title='Building a RSelenium pipe function'>
         19
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=20 title='NA'>
         20
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=21 title='A Tour of the winelands!'>
         21
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=22 title='Extending your wine knowledge'>
         22
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=23 title='NA'>
         23
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=24 title='Display all the wine'>
         24
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=25 title='Lets filter all wine from Australia'>
         25
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=26 title='Next we go to end and to &#39;load more&#39; wines'>
         26
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=27 title='Now we done with RSelenium, on to rvest!'>
         27
      </a>
    </li>
  </ul>
  </div>  <!--[if IE]>
    <script 
      src="http://ajax.googleapis.com/ajax/libs/chrome-frame/1/CFInstall.min.js">  
    </script>
    <script>CFInstall.check({mode: 'overlay'});</script>
  <![endif]-->
</body>
  <!-- Load Javascripts for Widgets -->
  <script src="libraries/widgets/quiz/js/jquery.quiz.js"></script>
<script src="libraries/widgets/quiz/js/mustache.min.js"></script>
<script src="libraries/widgets/quiz/js/quiz-app.js"></script>
<script src="libraries/widgets/bootstrap/js/bootstrap.min.js"></script>
<script src="libraries/widgets/bootstrap/js/bootbox.min.js"></script>
<script src="libraries/widgets/interactive/js/ace/js/ace.js"></script>
<script src="libraries/widgets/interactive/js/opencpu-0.5.js"></script>
<script src="libraries/widgets/interactive/js/interactive.js"></script>

  <!-- MathJax: Fall back to local if CDN offline but local image fonts are not supported (saves >100MB) -->
  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        inlineMath: [['$','$'], ['\\(','\\)']],
        processEscapes: true
      }
    });
  </script>
  <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/2.0-latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  <!-- <script src="https://c328740.ssl.cf1.rackcdn.com/mathjax/2.0-latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
  </script> -->
  <script>window.MathJax || document.write('<script type="text/x-mathjax-config">MathJax.Hub.Config({"HTML-CSS":{imageFont:null}});<\/script><script src="libraries/widgets/mathjax/MathJax.js?config=TeX-AMS-MML_HTMLorMML"><\/script>')
</script>
<script>  
  $(function (){ 
    $("#example").popover(); 
    $("[rel='tooltip']").tooltip(); 
  });  
  </script>  
  <!-- LOAD HIGHLIGHTER JS FILES -->
  <script src="libraries/highlighters/highlight.js/highlight.pack.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
  <!-- DONE LOADING HIGHLIGHTER JS FILES -->
   
  </html>